<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.netbull.shop.manage.weixin.dao.PharmacyDao">

    <select id="queryPharmacyLogin" parameterType="map" resultType="map">
         select u.login_name,u.true_name,u.phone,u.sex,p.* from vauth.user_info u ,tb_medical_pharmacy p
         <where>
             	u.id = p.loginID
             	and p.state =  0
            	<if test="pharmacyName != null and pharmacyName !=''">
				    and u.login_name = #{pharmacyName}
				</if>
			    <if test="pharmacyPassword != null and pharmacyPassword !=''">
				    and u.`password` = #{pharmacyPassword}
				</if>
        </where>
	</select>
   
</mapper>